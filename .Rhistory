}
}
sum <- plot.means(traits.A)
sum(traits.A[[1]])
sum(traits.A[1])
nrow(traits.A[[1]])
ncol(traits.A[[1]])
names(traits.A[[1]])
names(traits.A[[3]])
names(traits.A[3])
str(traits.A[[3]])
plot.means <- function(df) {
for(i in 1:ncol(df)) {
trait <- df[[i]]
str <- str(trait)
#    stats <- ddply(df, .(CO2, treatment), summarise,
#                  mean = mean(trait),
#                  sem = sd(trait)/sqrt(length(trait)))
#    stats <- transform(stats, lower=mean-sem, upper=mean+sem)
}
}
sum <- plot.means(traits.A)
sum <- plot.means(traits.A)
plot.means <- function(df) {
for(i in 1:ncol(df)) {
trait <- df[[i]]
str <- str(trait)
#    stats <- ddply(df, .(CO2, treatment), summarise,
#                  mean = mean(trait),
#                  sem = sd(trait)/sqrt(length(trait)))
#    stats <- transform(stats, lower=mean-sem, upper=mean+sem)
}
return(str)
}
sum <- plot.means(traits.A)
rm(sum)
plot.means <- function(df) {
for(i in 1:ncol(df)) {
trait <- deparse(substitute(df[[i]]))
stats <- ddply(df, .(CO2, treatment), summarise,
mean = mean(trait),
sem = sd(trait)/sqrt(length(trait)))
stats <- transform(stats, lower=mean-sem, upper=mean+sem)
}
return(stats)
}
sum <- plot.means(traits.A)
trait <- deparse(substitute(traits.A[[3]]))
trait <- traits.A[[3]]
trait <- traits.A[3]
View(trait)
trait <- colnames(traits.A[3])
plot.means <- function(df) {
for(i in 1:ncol(df)) {
trait <- colnames(df[i])
stats <- ddply(df, .(CO2, treatment), summarise,
mean = mean(trait),
sem = sd(trait)/sqrt(length(trait)))
stats <- transform(stats, lower=mean-sem, upper=mean+sem)
}
return(stats)
}
sum <- plot.means(traits.A)
View(sum)
source('~/.active-rstudio-document', echo=TRUE)
plot.means <- function(df) {
for(i in 1:ncol(df)) {
trait <- colnames(df[i])
traitname <- as.expression(colnames(df[i]))
stats <- ddply(df, .(CO2, treatment), summarise,
mean = mean(trait),
sem = sd(trait)/sqrt(length(trait)))
stats <- transform(stats, lower=mean-sem, upper=mean+sem)
labels <- list("ylab" <- c(deparse(substitute(trait))))
#plot <- ggplot(stats, aes(treatment, mean, fill=CO2))
#plot <- plot + geom_bar(stat = "identity", position="dodge")
#plot <- plot + geom_errorbar(aes(ymax=upper,ymin=lower), position=position_dodge(0.9), data = stats)                                                                                                            data=blah)
#plot <- plot ylab(traitname)
}
}
plot.means <- function(df) {
for(i in 1:ncol(df)) {
trait <- colnames(df[i])
traitname <- as.expression(colnames(df[i]))
stats <- ddply(df, .(CO2, treatment), summarise,
mean = mean(trait),
sem = sd(trait)/sqrt(length(trait)))
stats <- transform(stats, lower=mean-sem, upper=mean+sem)
labels <- list("ylab" <- c(deparse(substitute(trait))))
plot <- ggplot(stats, aes(treatment, mean, fill=CO2))
plot <- plot + geom_bar(stat = "identity", position="dodge")
#plot <- plot + geom_errorbar(aes(ymax=upper,ymin=lower), position=position_dodge(0.9), data = stats)                                                                                                            data=blah)
#plot <- plot ylab(traitname)
}
}
plot.means <- function(df) {
for(i in 1:ncol(df)) {
trait <- colnames(df[i])
traitname <- as.expression(colnames(df[i]))
stats <- ddply(df, .(CO2, treatment), summarise,
mean = mean(trait),
sem = sd(trait)/sqrt(length(trait)))
stats <- transform(stats, lower=mean-sem, upper=mean+sem)
labels <- list("ylab" <- c(deparse(substitute(trait))))
plot <- ggplot(stats, aes(treatment, mean, fill=CO2))
plot <- plot + geom_bar(stat = "identity", position="dodge")
plot <- plot + geom_errorbar(aes(ymax=upper,ymin=lower), position=position_dodge(0.9), data = stats)                                                                                                            data=blah)
#plot <- plot ylab(traitname)
}
}
plot.means <- function(df) {
for(i in 1:ncol(df)) {
trait <- colnames(df[i])
traitname <- as.expression(colnames(df[i]))
stats <- ddply(df, .(CO2, treatment), summarise,
mean = mean(trait),
sem = sd(trait)/sqrt(length(trait)))
stats <- transform(stats, lower=mean-sem, upper=mean+sem)
labels <- list("ylab" <- c(deparse(substitute(trait))))
plot <- ggplot(stats, aes(treatment, mean, fill=CO2))
plot <- plot + geom_bar(stat = "identity", position="dodge")
#plot <- plot + geom_errorbar(aes(ymax=upper,ymin=lower), position=position_dodge(0.9), data = stats)                                                                                                            data=blah)
plot <- plot ylab(traitname)
}
}
plot.means <- function(df) {
for(i in 1:ncol(df)) {
trait <- colnames(df[i])
traitname <- as.expression(colnames(df[i]))
stats <- ddply(df, .(CO2, treatment), summarise,
mean = mean(trait),
sem = sd(trait)/sqrt(length(trait)))
stats <- transform(stats, lower=mean-sem, upper=mean+sem)
labels <- list("ylab" <- c(deparse(substitute(trait))))
plot <- ggplot(stats, aes(treatment, mean, fill=CO2))
plot <- plot + geom_bar(stat = "identity", position="dodge")
#plot <- plot + geom_errorbar(aes(ymax=upper,ymin=lower), position=position_dodge(0.9), data = stats)                                                                                                            data=blah)
plot <- plot ylab(traitname)
}
plot.means <- function(df) {
for(i in 1:ncol(df)) {
trait <- colnames(df[i])
traitname <- as.expression(colnames(df[i]))
stats <- ddply(df, .(CO2, treatment), summarise,
mean = mean(trait),
sem = sd(trait)/sqrt(length(trait)))
stats <- transform(stats, lower=mean-sem, upper=mean+sem)
labels <- list("ylab" <- c(deparse(substitute(trait))))
plot <- ggplot(stats, aes(treatment, mean, fill=CO2))
plot <- plot + geom_bar(stat = "identity", position="dodge")
#plot <- plot + geom_errorbar(aes(ymax=upper,ymin=lower), position=position_dodge(0.9), data = stats)                                                                                                            data=blah)
#plot <- plot ylab(traitname)
}
}
plot.means <- function(df) {
for(i in 1:ncol(df)) {
trait <- colnames(df[i])
traitname <- as.expression(colnames(df[i]))
stats <- ddply(df, .(CO2, treatment), summarise,
mean = mean(trait),
sem = sd(trait)/sqrt(length(trait)))
stats <- transform(stats, lower=mean-sem, upper=mean+sem)
labels <- list("ylab" <- c(deparse(substitute(trait))))
plot <- ggplot(stats, aes(treatment, mean, fill=CO2))
plot <- plot + geom_bar(stat = "identity", position="dodge")
plot <- plot + geom_errorbar(aes(ymax=upper,ymin=lower), position=position_dodge(0.9), data = stats)                                                                                                            data=blah)
plot <- plot + ylab(traitname)
}
}
plot.means <- function(df) {
for(i in 1:ncol(df)) {
trait <- colnames(df[i])
traitname <- as.expression(colnames(df[i]))
stats <- ddply(df, .(CO2, treatment), summarise,
mean = mean(trait),
sem = sd(trait)/sqrt(length(trait)))
stats <- transform(stats, lower=mean-sem, upper=mean+sem)
labels <- list("ylab" <- c(deparse(substitute(trait))))
plot <- ggplot(stats, aes(treatment, mean, fill=CO2))
plot <- plot + geom_bar(stat = "identity", position="dodge")
#   plot <- plot + geom_errorbar(aes(ymax=upper,ymin=lower), position=position_dodge(0.9), data = stats)                                                                                                            data=blah)
plot <- plot + ylab(traitname)
}
}
plot.means <- function(df) {
for(i in 1:ncol(df)) {
trait <- colnames(df[i])
traitname <- as.expression(colnames(df[i]))
stats <- ddply(df, .(CO2, treatment), summarise,
mean = mean(trait),
sem = sd(trait)/sqrt(length(trait)))
stats <- transform(stats, lower=mean-sem, upper=mean+sem)
labels <- list("ylab" <- c(deparse(substitute(trait))))
plot <- ggplot(stats, aes(treatment, mean, fill=CO2))
plot <- plot + geom_bar(stat = "identity", position="dodge")
plot <- plot + geom_errorbar(aes(ymax=upper,
ymin=lower),
position=position_dodge(0.9),
data=blah)
plot <- plot + ylab(traitname)
}
}
sum <- plot.means(traits.A)
sum <- plot.means(traits.A)
plot.means <- function(df) {
for(i in 1:ncol(df)) {
trait <- colnames(df[i])
traitname <- as.expression(colnames(df[i]))
stats <- ddply(df, .(CO2, treatment), summarise,
mean = mean(trait),
sem = sd(trait)/sqrt(length(trait)))
stats <- transform(stats, lower=mean-sem, upper=mean+sem)
labels <- list("ylab" <- c(deparse(substitute(trait))))
plot <- ggplot(stats, aes(treatment, mean, fill=CO2))
plot <- plot + geom_bar(stat = "identity", position="dodge")
plot <- plot + geom_errorbar(aes(ymax=upper,
ymin=lower),
position=position_dodge(0.9),
data=blah)
plot <- plot + ylab(traitname)
}
}
?sd
?length
?ddply
?warnings()
warnings()
?sqrt
plot.means <- function(df) {
for(i in 1:ncol(df)) {
trait <- colnames(df[i])
traitname <- as.expression(colnames(df[i]))
stats <- ddply(df, .(CO2, treatment), summarise,
mean = mean(trait, na.rm=TRUE),
sem = sd(trait, na.rm=TRUE)/sqrt(length(trait)))
stats <- transform(stats, lower=mean-sem, upper=mean+sem)
labels <- list("ylab" <- c(deparse(substitute(trait))))
plot <- ggplot(stats, aes(treatment, mean, fill=CO2))
plot <- plot + geom_bar(stat = "identity", position="dodge")
plot <- plot + geom_errorbar(aes(ymax=upper,
ymin=lower),
position=position_dodge(0.9),
data=blah)
plot <- plot + ylab(traitname)
}
}
sum <- plot.means(traits.A)
?warnings(0
?warnings()
)
?warnings()
warnings()
View(traits.A)
View(traits.A)
traits.A_melted <- melt(traits.A)
View(traits.A_melted)
stats <- ddply(traits.A_melted, .(CO2, treatment), summarise,
mean = mean(trait, na.rm=TRUE),
sem = sd(trait, na.rm=TRUE)/sqrt(length(trait)))
stats <- transform(stats, lower=mean-sem, upper=mean+sem)
View(stats)
View(traits.A_melted)
na.omit(traits.A_melted)
traits.A_melted <- na.omit(traits.A_melted)
stats <- ddply(traits.A_melted, .(CO2, treatment), summarise,
mean = mean(trait, na.rm=TRUE),
sem = sd(trait, na.rm=TRUE)/sqrt(length(trait)))
stats <- transform(stats, lower=mean-sem, upper=mean+sem)
stats
View(traits.A_melted)
warnings()
stats <- ddply(traits.A_melted, .(CO2, treatment), summarise,
mean = mean(variable, na.rm=TRUE),
sem = sd(variable, na.rm=TRUE)/sqrt(length(variable)))
stats <- transform(stats, lower=mean-sem, upper=mean+sem)
View(stats)
View(traits.A_melted)
stats <- ddply(traits.A_melted, .(CO2, treatment, variable), summarise,
mean = mean(value, na.rm=TRUE),
sem = sd(value, na.rm=TRUE)/sqrt(length(value)))
stats <- transform(stats, lower=mean-sem, upper=mean+sem)
View(stats)
blah <- ddply(stats, .(CO2, treatment, variable))
View(blah)
rm(blah)
blah <- ddply(traits.A, .(CO2, treatment), summarise,
mean = mean(RGRshoot + RGRroot),
sem = sd(RGRshoot)/sqrt(length(RGRshoot)))
blah <- transform(blah, lower=mean-sem, upper=mean+sem)
View(blah)
blah <- subset(traits.A_melted, variable =="RGRroot")
View(blah)
blah <- subset(stats, variable =="RGRroot")
View(blah)
View(stats)
View(traits.A)
View(stats)
View(stats)
stats[3,1]
stats[1,3]
stats[5,3]
stats[3,4]
stats[1,1]
stats[1,2]
stats[1,3]
plot.means <- function(df) {
df_melted <- melt(df)
df_melted <- na.omit(df_melted)
stats <- ddply(df_melted, .(CO2, treatment, variable), summarise,
mean = mean(value, na.rm=TRUE),
sem = sd(value, na.rm=TRUE)/sqrt(length(value)))
stats <- transform(stats, lower=mean-sem, upper=mean+sem)
for(i in 1:nrow(stats)) {
trait <- deparse(substitute(stats[i,3]))
traitStats <- subset(stats, variable == trait)
plot <- ggplot(traitStats, aes(treatment, mean, fill=CO2))
plot <- plot + geom_bar(stat = "identity", position="dodge")
plot <- plot + geom_errorbar(aes(ymax=upper,
ymin=lower),
position=position_dodge(0.9),
data=blah)
plot <- plot + ylab(trait)
}
}
sum <- plot.means(traits.A)
warnings()
View(stats)
blah <- which(stats$variable %in% rootRGR)
blah <- which(stats$variable %in% RGRroot)
View(stats)
blah <- which(stats$variable %in% SLA)
dih_col <- which(stats$variable %in% stats)
rm(dig_col)
rm(dih_col)
?subset
plot.means <- function(df) {
df_melted <- melt(df)
df_melted <- na.omit(df_melted)
stats <- ddply(df_melted, .(CO2, treatment, variable), summarise,
mean = mean(value, na.rm=TRUE),
sem = sd(value, na.rm=TRUE)/sqrt(length(value)))
stats <- transform(stats, lower=mean-sem, upper=mean+sem)
for(i in 1:nrow(stats)) {
trait <- (stats[i,3])
traitStats <- subset(stats, variable == trait)
plot <- ggplot(traitStats, aes(treatment, mean, fill=CO2))
plot <- plot + geom_bar(stat = "identity", position="dodge")
plot <- plot + geom_errorbar(aes(ymax=upper,
ymin=lower),
position=position_dodge(0.9),
data=blah)
plot <- plot + ylab(trait)
}
}
sum <- plot.means(traits.A)
plot.means(traits.A)
plot.means(traits.A)
?tiff
plot.means <- function(df) {
df_melted <- melt(df)
df_melted <- na.omit(df_melted)
stats <- ddply(df_melted, .(CO2, treatment, variable), summarise,
mean = mean(value, na.rm=TRUE),
sem = sd(value, na.rm=TRUE)/sqrt(length(value)))
stats <- transform(stats, lower=mean-sem, upper=mean+sem)
for(i in 1:nrow(stats)) {
trait <- (stats[i,3])
traitname <- deparse(substitute(trait))
traitStats <- subset(stats, variable == trait)
tiff(sprintf("%s.png",traitname), width = 400, height = 300)
plot <- ggplot(traitStats, aes(treatment, mean, fill=CO2))
plot <- plot + geom_bar(stat = "identity", position="dodge")
plot <- plot + geom_errorbar(aes(ymax=upper,
ymin=lower),
position=position_dodge(0.9),
data=blah)
plot <- plot + ylab(traitname)
}
}
plot.means <- function(df) {
df_melted <- melt(df)
df_melted <- na.omit(df_melted)
stats <- ddply(df_melted, .(CO2, treatment, variable), summarise,
mean = mean(value, na.rm=TRUE),
sem = sd(value, na.rm=TRUE)/sqrt(length(value)))
stats <- transform(stats, lower=mean-sem, upper=mean+sem)
for(i in 1:nrow(stats)) {
trait <- (stats[i,3])
traitname <- deparse(substitute(trait))
traitStats <- subset(stats, variable == trait)
#    tiff(sprintf("%s.png",traitname), width = 400, height = 300)
plot <- ggplot(traitStats, aes(treatment, mean, fill=CO2))
plot <- plot + geom_bar(stat = "identity", position="dodge")
plot <- plot + geom_errorbar(aes(ymax=upper,
ymin=lower),
position=position_dodge(0.9),
data=blah)
plot <- plot + ylab(traitname)
print(plot)
#    dev.off()
}
plot.means(traits.A)
)oldk
we tia
plot.means(traits.A)
dev.off()
plot.means <- function(df) {
df_melted <- melt(df)
df_melted <- na.omit(df_melted)
stats <- ddply(df_melted, .(CO2, treatment, variable), summarise,
mean = mean(value, na.rm=TRUE),
sem = sd(value, na.rm=TRUE)/sqrt(length(value)))
stats <- transform(stats, lower=mean-sem, upper=mean+sem)
for(i in 1:nrow(stats)) {
trait <- (stats[i,3])
traitname <- deparse(substitute(trait))
traitStats <- subset(stats, variable == trait)
tiff(sprintf("%s.png",traitname), width = 400, height = 300)
plot <- ggplot(traitStats, aes(treatment, mean, fill=CO2))
plot <- plot + geom_bar(stat = "identity", position="dodge")
plot <- plot + geom_errorbar(aes(ymax=upper,
ymin=lower),
position=position_dodge(0.9),
data=blah)
plot <- plot + ylab(traitname)
print(plot)
dev.off()
}
}
plot.means(traits.A)
plot.means <- function(df) {
df_melted <- melt(df)
df_melted <- na.omit(df_melted)
stats <- ddply(df_melted, .(CO2, treatment, variable), summarise,
mean = mean(value, na.rm=TRUE),
sem = sd(value, na.rm=TRUE)/sqrt(length(value)))
stats <- transform(stats, lower=mean-sem, upper=mean+sem)
for(i in 1:nrow(stats)) {
trait <- (stats[i,3])
traitname <- deparse(substitute(trait))
traitStats <- subset(stats, variable == trait)
#  tiff(sprintf("%s.png",traitname), width = 400, height = 300)
plot <- ggplot(traitStats, aes(treatment, mean, fill=CO2))
plot <- plot + geom_bar(stat = "identity", position="dodge")
plot <- plot + geom_errorbar(aes(ymax=upper,
ymin=lower),
position=position_dodge(0.9),
data=blah)
plot <- plot + ylab(traitname)
print(plot)
# dev.off()
}
}
plot.means(traits.A)
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
plot.means(traits.A)
plot.means(traits.A)
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
plot.means(traits.A)
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
dev.off()
?dev.off()
